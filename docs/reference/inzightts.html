<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Coerce data to an inzightts (time-series) object — inzightts • iNZightTS</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Coerce data to an inzightts (time-series) object — inzightts"><meta property="og:description" content="The function inzightts creates temporal data frames for use in iNZight.
Unlike ts objects, these are tsibble objects that enable temporal data
wrangling, adapting to tidy data principles, which are both data- and
model-oriented."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iNZightTS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/iNZightVIT/iNZightTS/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Coerce data to an inzightts (time-series) object</h1>
    <small class="dont-index">Source: <a href="https://github.com/iNZightVIT/iNZightTS/blob/HEAD/R/iNZightTS.R" class="external-link"><code>R/iNZightTS.R</code></a></small>
    <div class="hidden name"><code>inzightts.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function <code>inzightts</code> creates temporal data frames for use in iNZight.
Unlike <code>ts</code> objects, these are tsibble objects that enable temporal data
wrangling, adapting to tidy data principles, which are both data- and
model-oriented.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">inzightts</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for character</span></span>
<span><span class="fu">inzightts</span><span class="op">(</span><span class="va">x</span>, stringsAsFactors <span class="op">=</span> <span class="cn">TRUE</span>, as.is <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for data.frame</span></span>
<span><span class="fu">inzightts</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  index <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  key <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  start <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  end <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  freq <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for ts</span></span>
<span><span class="fu">inzightts</span><span class="op">(</span><span class="va">x</span>, var_name <span class="op">=</span> <span class="cn">NULL</span>, pivot_longer <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for tbl_ts</span></span>
<span><span class="fu">inzightts</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A <code>data.frame</code>, <code>ts</code>, tsibble, or path.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments to be passed to or from methods.</p></dd>


<dt>stringsAsFactors</dt>
<dd><p>See <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></code></p></dd>


<dt>as.is</dt>
<dd><p>See <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></code></p></dd>


<dt>var</dt>
<dd><p>The column number or name in <code>data</code> representing the observations
used in the actual time series.</p></dd>


<dt>index</dt>
<dd><p>The column number or name in <code>data</code> containing the time
variable.</p></dd>


<dt>key</dt>
<dd><p>The variable(s) that uniquely determine time indices.</p></dd>


<dt>start</dt>
<dd><p>The time of the first observation. It can be a single number or
a vector of two integers representing a natural time unit and
a (1-based) number of samples into the time unit.</p></dd>


<dt>end</dt>
<dd><p>The time of the last observation, specified in the same way as
<code>start</code>.</p></dd>


<dt>freq</dt>
<dd><p>The number of observations per unit of time.</p></dd>


<dt>var_name</dt>
<dd><p>The new name for the variable column of the univariate time
series, applicable only if <code>x</code> is not an <code>mts</code> object.</p></dd>


<dt>pivot_longer</dt>
<dd><p>Logical; set to <code>TRUE</code> to transform data to a "longer"
form, otherwise keep the current form. Applicable only if <code>x</code> is an
<code>mts</code> object.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An <code>inzightts</code> (<code>inz_ts</code>) object, a sub-class of tsibble,
which includes the index variable, temporal variable, and, if
applicable, relevant keys.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>If a <code>ts</code> object is used to create the inzightts object, all the domain
information is extracted from that object.</p>
<p>The <code>index</code> parameter should be a <code>character</code>, <code>Date</code>,
<code>yearweek</code>, <code>yearmonth</code>, or <code>yearquarter</code> object.</p>
<p>If <code>index</code> is a <code>character</code>, the function recognizes the following
time variable formats without case sensitivity:</p><ul><li><p>"(Y)yyyy": annually data, e.g., "(Y)1991"</p></li>
<li><p>"(Y)yyyyMmm": monthly data, e.g., "(Y)1991M01"</p></li>
<li><p>"(Y)yyyyQqq": quarterly data, e.g., "(Y)1991Q01"</p></li>
<li><p>"(Y)yyyyWww": weekly data with yearly seasonality, e.g., "(Y)1991W01"</p></li>
<li><p>"(Y)yyyyDdd": daily data with yearly seasonality, e.g., "(Y)1991D01"</p></li>
<li><p>"WwwDdd": daily data with weekly seasonality, e.g., "W01D01"</p></li>
<li><p>"DddHhh": hourly data with daily seasonality, e.g., "D01H01"</p></li>
</ul><p>The length of digits of each time unit could be flexible, and spaces between
the time unit are allowed.</p>
<p>In case <code>data</code> is a data.frame or path to a <code>.csv</code> file, and
<code>start</code> is omitted, the starting date and the <code>freq</code> are extracted
from the column that includes the time information. This column is either
named <code>"Time"</code> or is the first column. If <code>end</code> is omitted, all of
the data will be used for the time-series.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://tsibble.tidyverts.org/reference/tsibble.html" class="external-link">tsibble</a></code>, <code><a href="https://tsibble.tidyverts.org/reference/as-tsibble.html" class="external-link">as_tsibble</a></code>
and <code><a href="https://tsibble.tidyverts.org/reference/new_tsibble.html" class="external-link">new_tsibble</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># create from a ts object</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu">inzightts</span><span class="op">(</span><span class="va">UKgas</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create from a data.frame</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">inzightts</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Return <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, Time <span class="op">=</span> <span class="fl">1900</span><span class="op">:</span><span class="fl">1999</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    var <span class="op">=</span> <span class="st">"Return"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># or specify a time column</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">inzightts</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Return <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, Year <span class="op">=</span> <span class="fl">1900</span><span class="op">:</span><span class="fl">1999</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    var <span class="op">=</span> <span class="st">"Return"</span>, index <span class="op">=</span> <span class="st">"Year"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create from a data.frame with modified time frame</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">inzightts</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Return <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1990</span>, <span class="fl">1</span><span class="op">)</span>, end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1993</span>, <span class="fl">5</span><span class="op">)</span>, freq <span class="op">=</span> <span class="fl">12</span>, var <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://tomelliott.co.nz" class="external-link">Tom Elliott</a>, Zhaoming Su.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

