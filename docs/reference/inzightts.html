<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Coerce data to an inzightts (time-series) object — inzightts • iNZightTS</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Coerce data to an inzightts (time-series) object — inzightts"><meta name="description" content="The function inzightts creates temporal data frames for use in iNZight.
Unlike ts objects, these are tsibble objects that enable temporal data
wrangling, adapting to tidy data principles, which are both data- and
model-oriented."><meta property="og:description" content="The function inzightts creates temporal data frames for use in iNZight.
Unlike ts objects, these are tsibble objects that enable temporal data
wrangling, adapting to tidy data principles, which are both data- and
model-oriented."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">iNZightTS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/iNZightVIT/iNZightTS/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Coerce data to an inzightts (time-series) object</h1>
      <small class="dont-index">Source: <a href="https://github.com/iNZightVIT/iNZightTS/blob/HEAD/R/iNZightTS.R" class="external-link"><code>R/iNZightTS.R</code></a></small>
      <div class="d-none name"><code>inzightts.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function <code>inzightts</code> creates temporal data frames for use in iNZight.
Unlike <code>ts</code> objects, these are tsibble objects that enable temporal data
wrangling, adapting to tidy data principles, which are both data- and
model-oriented.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">inzightts</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'character'</span></span>
<span><span class="fu">inzightts</span><span class="op">(</span><span class="va">x</span>, stringsAsFactors <span class="op">=</span> <span class="cn">TRUE</span>, as.is <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data.frame'</span></span>
<span><span class="fu">inzightts</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  index <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  key <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  start <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  end <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  freq <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ts'</span></span>
<span><span class="fu">inzightts</span><span class="op">(</span><span class="va">x</span>, var_name <span class="op">=</span> <span class="cn">NULL</span>, pivot_longer <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'tbl_ts'</span></span>
<span><span class="fu">inzightts</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>data.frame</code>, <code>ts</code>, tsibble, or path.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to be passed to or from methods.</p></dd>


<dt id="arg-stringsasfactors">stringsAsFactors<a class="anchor" aria-label="anchor" href="#arg-stringsasfactors"></a></dt>
<dd><p>See <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></code></p></dd>


<dt id="arg-as-is">as.is<a class="anchor" aria-label="anchor" href="#arg-as-is"></a></dt>
<dd><p>See <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></code></p></dd>


<dt id="arg-var">var<a class="anchor" aria-label="anchor" href="#arg-var"></a></dt>
<dd><p>The column number or name in <code>data</code> representing the observations
used in the actual time series.</p></dd>


<dt id="arg-index">index<a class="anchor" aria-label="anchor" href="#arg-index"></a></dt>
<dd><p>The column number or name in <code>data</code> containing the time
variable.</p></dd>


<dt id="arg-key">key<a class="anchor" aria-label="anchor" href="#arg-key"></a></dt>
<dd><p>The variable(s) that uniquely determine time indices.</p></dd>


<dt id="arg-start">start<a class="anchor" aria-label="anchor" href="#arg-start"></a></dt>
<dd><p>The time of the first observation. It can be a single number or
a vector of two integers representing a natural time unit and
a (1-based) number of samples into the time unit.</p></dd>


<dt id="arg-end">end<a class="anchor" aria-label="anchor" href="#arg-end"></a></dt>
<dd><p>The time of the last observation, specified in the same way as
<code>start</code>.</p></dd>


<dt id="arg-freq">freq<a class="anchor" aria-label="anchor" href="#arg-freq"></a></dt>
<dd><p>The number of observations per unit of time.</p></dd>


<dt id="arg-var-name">var_name<a class="anchor" aria-label="anchor" href="#arg-var-name"></a></dt>
<dd><p>The new name for the variable column of the univariate time
series, applicable only if <code>x</code> is not an <code>mts</code> object.</p></dd>


<dt id="arg-pivot-longer">pivot_longer<a class="anchor" aria-label="anchor" href="#arg-pivot-longer"></a></dt>
<dd><p>Logical; set to <code>TRUE</code> to transform data to a "longer"
form, otherwise keep the current form. Applicable only if <code>x</code> is an
<code>mts</code> object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An <code>inzightts</code> (<code>inz_ts</code>) object, a sub-class of tsibble,
which includes the index variable, temporal variable, and, if
applicable, relevant keys.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If a <code>ts</code> object is used to create the inzightts object, all the domain
information is extracted from that object.</p>
<p>The <code>index</code> parameter should be a <code>character</code>, <code>Date</code>,
<code>yearweek</code>, <code>yearmonth</code>, or <code>yearquarter</code> object.</p>
<p>If <code>index</code> is a <code>character</code>, the function recognizes the following
time variable formats without case sensitivity:</p><ul><li><p>"(Y)yyyy": annually data, e.g., "(Y)1991"</p></li>
<li><p>"(Y)yyyyMmm": monthly data, e.g., "(Y)1991M01"</p></li>
<li><p>"(Y)yyyyQqq": quarterly data, e.g., "(Y)1991Q01"</p></li>
<li><p>"(Y)yyyyWww": weekly data with yearly seasonality, e.g., "(Y)1991W01"</p></li>
<li><p>"(Y)yyyyDdd": daily data with yearly seasonality, e.g., "(Y)1991D01"</p></li>
<li><p>"WwwDdd": daily data with weekly seasonality, e.g., "W01D01"</p></li>
<li><p>"DddHhh": hourly data with daily seasonality, e.g., "D01H01"</p></li>
</ul><p>The length of digits of each time unit could be flexible, and spaces between
the time unit are allowed.</p>
<p>In case <code>data</code> is a data.frame or path to a <code>.csv</code> file, and
<code>start</code> is omitted, the starting date and the <code>freq</code> are extracted
from the column that includes the time information. This column is either
named <code>"Time"</code> or is the first column. If <code>end</code> is omitted, all of
the data will be used for the time-series.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://tsibble.tidyverts.org/reference/tsibble.html" class="external-link">tsibble</a></code>, <code><a href="https://tsibble.tidyverts.org/reference/as-tsibble.html" class="external-link">as_tsibble</a></code>
and <code><a href="https://tsibble.tidyverts.org/reference/new_tsibble.html" class="external-link">new_tsibble</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># create from a ts object</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu">inzightts</span><span class="op">(</span><span class="va">UKgas</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create from a data.frame</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">inzightts</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Return <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, Time <span class="op">=</span> <span class="fl">1900</span><span class="op">:</span><span class="fl">1999</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    var <span class="op">=</span> <span class="st">"Return"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># or specify a time column</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">inzightts</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Return <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, Year <span class="op">=</span> <span class="fl">1900</span><span class="op">:</span><span class="fl">1999</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    var <span class="op">=</span> <span class="st">"Return"</span>, index <span class="op">=</span> <span class="st">"Year"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create from a data.frame with modified time frame</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">inzightts</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Return <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1990</span>, <span class="fl">1</span><span class="op">)</span>, end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1993</span>, <span class="fl">5</span><span class="op">)</span>, freq <span class="op">=</span> <span class="fl">12</span>, var <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://tomelliott.co.nz" class="external-link">Tom Elliott</a>, Zhaoming Su.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

